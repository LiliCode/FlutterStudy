# 类

dart 是基于 `mixin` 继承机制的面向对象语言，所有对象都是继承自一个类的实例，除了 Null 以外的所有类都是继承自 Object 类。

## 类的成员

对象的成员是由函数和数据组成。方法的调用是通过对象来完成，这种方式可以访问对象的函数和数据。

使用（.）语法来访问成员变量，如下所示

```dart
class Point {
  double? x;
  double? y;
}

var p = Point();
p.x = 2;
p.y = 8;
```

使用 ?. 代替 . 可以避免左边对象为空导致的崩溃，如下所示

```dart
var a = p?.x;
```

## 构造函数

使用`构造函数`创建一个对象。构造函数的命名方式可以为`类名`，或者`类名.标识符`的形式。如下所示

上边的类可以这么改写

```dart
class Point {
  double? x;
  double? y;

  Point({this.x, this.y});

  Point.fromJson(Map<String, dynamic>? json) {
    this.x = json?['x'] ?? 0;
    this.y = json?['y'] ?? 0;
  }
}

var p0 = Point(x: 9, y: 20);
var p1 = Point.fromJson({'x': 10, 'y': 50});
```

上面使用了 Point() 和 Point.fromJson() 构造函数来创建对象。

## 获取对象的类型

可以使用 Object 对象的 `runtimeType` 属性在运行时获取一个对象的类型，该对象类型是 Type 的实例。

```dart
print(p.runtimeType);
```

打印上面的对象 p 的类型，结果：Point

